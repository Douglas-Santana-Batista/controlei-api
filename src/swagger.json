{
  "openapi": "3.0.0",
  "info": {
    "title": "Controlei API",
    "version": "1.0.0",
    "description": "API for Controlei application",
    "contact": {
      "name": "Developer",
      "email": "douglassantanajau@hotmail.com"
    }
  },
  "paths": {
    "/login": {
      "post": {
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": { "type": "string", "format": "email" },
                  "password": { "type": "string" }
                },
                "required": ["email", "password"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": { "type": "string" },
                    "name": { "type": "string" },
                    "email": { "type": "string", "format": "email" }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials"
          }
        }
      }
    },
    "/register": {
      "post": {
        "description": "Route responsible for registering user",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cpf": { "type": "string", "format": "cpf" },
                  "name": { "type": "string" },
                  "email": { "type": "string", "format": "email" },
                  "password": { "type": "string" }
                },
                "required": ["name", "email", "password"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully"
          },
          "400": {
            "description": "Invalid input"
          }
        }
      }
    },
    "/updateUser/{id_user}": {
      "put": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [{ "name": "id_user", "in": "path", "description": "your id", "required": "true" }],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id_user": { "type": "number" },
                  "cpf": { "type": "string", "format": "cpf" },
                  "name": { "type": "string" },
                  "email": { "type": "string", "format": "email" },
                  "password": { "type": "string" }
                },
                "required": ["name", "email", "password", "cpf"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User Updated",
            "properties": {
              "id_user": { "type": "number" },
              "cpf": { "type": "string", "format": "cpf" },
              "name": { "type": "string" },
              "email": { "type": "string", "format": "email" }
            }
          },
          "400": {
            "description": "Update fail"
          }
        }
      }
    },
    "/createCategory/{id_user}": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [{ "name": "id_user", "in": "path", "description": "your id", "required": "true" }],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "description": { "type": "string" },
                  "budjet": { "type": "number" }
                },
                "required": ["name"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Category Created",
            "properties": {
              "Category name": { "type": "string" }
            }
          },
          "400": {
            "description": "error creating category"
          }
        }
      }
    },
    "/updateCategory/{id_user}/{id_category}": {
      "put": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_category",
            "in": "path",
            "description": "Category id",
            "required": "true"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "description": { "type": "string" },
                  "budjet": { "type": "number" }
                },
                "required": ["name"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category updated",
            "properties": {
              "Category name": { "type": "string" },
              "budjet": { "type": "number" }
            }
          },
          "400": {
            "description": "error update category"
          }
        }
      }
    },
    "/getAllCategory/{id_user}": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Category get",
            "properties": {
              "Category name": { "type": "string" },
              "budjet": { "type": "number" }
            }
          },
          "400": {
            "description": "error get category"
          }
        }
      }
    },
    "/getCategory/{id_user}/{id_category}": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_category",
            "in": "path",
            "description": "Category id",
            "required": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Category get successfully",
            "properties": {
              "Category name": { "type": "string" },
              "budjet": { "type": "number" }
            }
          },
          "400": {
            "description": "error get category"
          }
        }
      }
    },
    "/deleteCategory/{id_user}/{id_category}": {
      "delete": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_category",
            "in": "path",
            "description": "Category id",
            "required": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Category delete",
            "properties": {
              "Category name": { "type": "string" },
              "budjet": { "type": "number" }
            }
          },
          "400": {
            "description": "error delete category"
          }
        }
      }
    },
    "/createSubCategory/{id_user}/{id_category}": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_category",
            "in": "path",
            "description": "Category id",
            "required": "true"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "description": { "type": "string" },
                  "value": { "type": "number" },
                  "payment_type": ["credito", "debito", "boleto", "pix"],
                  "financial_flow": ["entry", "exit"]
                },
                "required": ["description", "value"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subategory created",
            "properties": {
              "Subcategory description": { "type": "string" },
              "value": { "type": "number" }
            }
          },
          "400": {
            "description": "error create subcategory"
          }
        }
      }
    },
    "/getAllsubCategory/{id_user}/{id_category}": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_category",
            "in": "path",
            "description": "Category id",
            "required": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "get all Subategory",
            "properties": {
              "Subcategory description": { "type": "string" },
              "value": { "type": "number" }
            }
          },
          "400": {
            "description": "error to get subcategory"
          }
        }
      }
    },
    "/deletesubCategory/{id_user}/{id_category}/{id_subcategory}": {
      "delete": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_category",
            "in": "path",
            "description": "Category id",
            "required": "true"
          },
          {
            "name": "id_subcategory",
            "in": "path",
            "description": "Subcategory id",
            "required": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Subategory created",
            "properties": {
              "Subcategory description": { "type": "string" },
              "value": { "type": "number" }
            }
          },
          "400": {
            "description": "error create subcategory"
          }
        }
      }
    },
    "/updatesubCategory/{id_user}/{id_category}/{id_subcategory}": {
      "put": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_category",
            "in": "path",
            "description": "Category id",
            "required": "true"
          },
          {
            "name": "id_subcategory",
            "in": "path",
            "description": "Subcategory id",
            "required": "true"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "description": { "type": "string" },
                  "value": { "type": "number" },
                  "payment_type": ["credito", "debito", "boleto", "pix"],
                  "financial_flow": ["entry", "exit"]
                },
                "required": ["description", "value"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subategory updated",
            "properties": {
              "Subcategory description": { "type": "string" },
              "value": { "type": "number" }
            }
          },
          "400": {
            "description": "error to update subcategory"
          }
        }
      }
    },
    "/getSubcategory/{id_user}/{id_category}/{id_subcategory}": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_category",
            "in": "path",
            "description": "Category id",
            "required": "true"
          },
          {
            "name": "id_subcategory",
            "in": "path",
            "description": "Subcategory id",
            "required": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "get all Subategory",
            "properties": {
              "Subcategory description": { "type": "string" },
              "value": { "type": "number" }
            }
          },
          "400": {
            "description": "error to get subcategory"
          }
        }
      }
    },
    "/createInstallments/{id_user}/{id_subcategory}": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_subcategory",
            "in": "path",
            "description": "subcategory id",
            "required": "true"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "amount": { "type": "number" },
                  "number": { "type": "number" },
                  "status": ["PENDING", "PAID", "OVERDUE"]
                },
                "required": ["amount", "number"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "create installment",
            "properties": {
              "Subcategory description": { "type": "string" },
              "value": { "type": "number" }
            }
          },
          "400": {
            "description": "error to get subcategory"
          }
        }
      }
    },
    "/getallInstallment/{id_user}": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "get installment",
            "properties": {
              "Subcategory description": { "type": "string" },
              "value": { "type": "number" }
            }
          },
          "400": {
            "description": "error to get installment"
          }
        }
      }
    },
    "/getallInstallment/{id_user}/{id_category}/{id_subcategory}": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id_user",
            "in": "path",
            "description": "user id",
            "required": "true"
          },
          {
            "name": "id_category",
            "in": "path",
            "description": "Category id",
            "required": "true"
          },
          {
            "name": "id_subcategory",
            "in": "path",
            "description": "Subcategory id",
            "required": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "get installment",
            "properties": {
              "Subcategory description": { "type": "string" },
              "value": { "type": "number" }
            }
          },
          "400": {
            "description": "error to get installment"
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
